(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{351:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i,OH:()=>a,UU:()=>s});let r=(0,n(6439).Z0)({name:"footer",initialState:"",reducers:{}}),{name:s}=r,a=e=>e.footer,i=r.reducer},959:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2514,23)),Promise.resolve().then(n.bind(n,3949)),Promise.resolve().then(n.bind(n,5706))},2514:()=>{},3949:(e,t,n)=>{"use strict";n.d(t,{F:()=>l,default:()=>o});var r=n(5155),s=n(2115),a=n(4298),i=n(7117);let c=(0,s.createContext)({socket:null});function o(e){let{children:t}=e,[n,o]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=(0,a.io)({path:"/api/socket"});return e.on("connect",()=>{console.log("âœ… Connected to socket server"),(0,i.a)(e),o(e)}),e.on("message",e=>{console.log(e)}),()=>{e.disconnect()}},[]),(0,r.jsx)(c.Provider,{value:{socket:n},children:t})}function l(){return(0,s.useContext)(c)}},4899:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i,IQ:()=>a,UU:()=>s});let r=(0,n(6439).Z0)({name:"nav",initialState:[],reducers:{}}),{name:s}=r,a=e=>e.nav,i=r.reducer},5527:(e,t,n)=>{"use strict";n.d(t,{GV:()=>a,jL:()=>s});var r=n(4540);let s=()=>(0,r.wA)(),a=r.d4},5706:(e,t,n)=>{"use strict";n.d(t,{default:()=>P});var r=n(5155),s=n(2115),a=n(4540),i=n(6439),c=n(52),o=n(9594),l=n(4899),u=n(351),d=n(7117),p=n(7312),f=n.n(p),v=n(5527),U=n(3949);function m(){let{socket:e}=(0,U.F)(),t=(0,v.jL)(),n=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{if(e&&e.connected&&!n.current)return n.current=!0,e.emit("getParticipants"),e.on("getParticipants",e=>{f()(e)||t((0,o.XT)(e))}),e.on("setParticipants",e=>{t((0,o.XT)(e))}),()=>{e.off("getParticipants"),e.off("setParticipants")}},[e]),null}function P(e){let{children:t,initialState:n}=e,p=(0,s.useMemo)(()=>(0,i.U1)({reducer:(0,c.HY)({[o.UU]:o.Ay,[l.UU]:l.Ay,[u.UU]:u.Ay}),middleware:e=>e().concat(d.Q),preloadedState:n,devTools:!1}),[n]);return(0,r.jsxs)(a.Kq,{store:p,children:[(0,r.jsx)(m,{}),t]})}},7117:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c,a:()=>i});var r=n(245),s=n.n(r);let a=null;function i(e){a=e}let c=e=>t=>n=>{let r=e.getState().participants,i=t(n),c=e.getState().participants;return a&&a.connected&&!s()(r,c)&&a.emit("setParticipants",c),i}},9594:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>d,UU:()=>c,XT:()=>l,op:()=>o,z2:()=>u});var r=n(6439),s=n(7124),a=n.n(s);let i=(0,r.Z0)({name:"participants",initialState:[],reducers:{setParticipants:(e,t)=>t.payload,updateVote(e,t){let n=a()(e,e=>e.login.salt===t.payload);n&&(n.votes+=1)}}}),{name:c}=i,{updateVote:o,setParticipants:l}=i.actions,u=e=>e.participants,d=i.reducer}},e=>{e.O(0,[369,841,502,441,964,358],()=>e(e.s=959)),_N_E=e.O()}]);